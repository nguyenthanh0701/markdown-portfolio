$(function(){var o=$(window),n=($("html, body"),$("body")),a=($(".wrapper"),o.width()),e=(o.height(),$("#GMmap")),l=e.attr("data-lat"),m=e.attr("data-lng"),r=e.attr("data-zoom"),p=!1;p=!(750<a),o.resize(function(n){a=o.width(),o.height(),p=!(750<a)});n.hasClass("is-EN")||(n.hasClass("is-TC")||n.hasClass("is-TH"));for(var t,_={name:"styleMap"},g="gmapStyle",c=[{featureType:"all",elementType:"all",stylers:[{hue:"#5c7089"},{saturation:-50},{lightness:0},{gamma:1}]}],d=[],u=($("#GMmap"),[]),f=[],v=[],M=[],T=[],i=[],L=[],s=[],C=[],w=[],S=[],h=[],y=[],b=[],I=0,O=0;O<arr_entries.length;O++){if(d[O]=arr_entries[O].title,T[O]=arr_entries[O].name,i[O]=arr_entries[O].map_name,L[O]=arr_entries[O].permalink,s[O]=arr_entries[O].lat,C[O]=arr_entries[O].lng,y[O]=arr_entries[O].selectIcon,arr_entries[O].zoom?w[O]=arr_entries[O].zoom:w[O]=17,S[O]=arr_entries[O].visual,h[O]=arr_entries[O].posttype,"timetable"==h[O])for(var j=0;j<s[O][0].length;j++)u.push(i[O][0][j]),f.push(Number(s[O][0][j])),v.push(Number(C[O][0][j]));else u.push(i[O]),f.push(Number(s[O])),v.push(Number(C[O]));E(arr_entries.length)}function E(n){n<=++I&&function(){new google.maps.LatLng({lat:f[0],lng:v[0]});j_map=new google.maps.Map(document.getElementById("GMmap"),{mapTypeId:google.maps.MapTypeId.HYBRID,zoom:Number(r),center:new google.maps.LatLng(l,m),disableDefaultUI:!0,mapTypeControl:!1,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.BOTTOM_CENTER},panControl:!1,panControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT},zoomControl:!1,zoomControlOptions:{style:google.maps.ZoomControlStyle.LARGE,position:google.maps.ControlPosition.TOP_RIGHT},scaleControl:!1,scaleControlOptions:{position:google.maps.ControlPosition.TOP_LEFT},streetViewControl:!1,streetViewControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT}});var n=new google.maps.StyledMapType(c,_);j_map.mapTypes.set(g,n),j_map.setMapTypeId(g);for(var o=[],a=0,e=0;e<d.length;e++)if("bus_terminal"===h[e]){j_markerLatLng=new google.maps.LatLng({lat:f[e],lng:v[e]});var t=String(f[e])+String(v[e]);if(0<o.indexOf("LatLng"))return;o.push(t),b[a]=new google.maps.Marker({position:j_markerLatLng,map:j_map,animation:google.maps.Animation.DROP});var i=document.createElement("div");i.innerHTML='<div class="contentMap__info"><div class="contentMap__info__inner"><div class="contentMap__info__img"><img src="'+S[e]+'" alt=""></div><div class="contentMap__info__name"><span>'+u[e]+"</span></div></div></div>",M[a]=new google.maps.InfoWindow({content:i,disableAutoPanz:!1,zIndex:null,alignBottom:!0,boxClass:"contentMap__info",enableEventPropagation:!0,infoBoxClearance:new google.maps.Size(1,1)});var s=ASSETS_URI+"img/common/gm_icon_busstop";"bt"==y[e]?s=ASSETS_URI+"img/common/gm_icon_info":"location"==y[e]?s=ASSETS_URI+"img/common/gm_icon_point":"hotel"==y[e]&&(s=ASSETS_URI+"img/common/gm_icon_accomodations"),p&&(s+="_sp"),s+=".png",b[a].setOptions({icon:{url:s}}),P(b[a],a,M),a++}else if("accommodations"===h[e]){j_markerLatLng=new google.maps.LatLng({lat:f[e],lng:v[e]}),b[e]=new google.maps.Marker({position:j_markerLatLng,map:j_map,animation:google.maps.Animation.DROP});var i=document.createElement("div");i.innerHTML='<div class="contentMap__info"><a href="'+L[e]+'" class="contentMap__info__inner"><div class="contentMap__info__img"><img src="'+S[e]+'" alt=""></div><div class="contentMap__info__name"><span>'+T[e]+"</span></div></a></div>",M[e]=new google.maps.InfoWindow({content:i,disableAutoPanz:!1,zIndex:null,alignBottom:!0,boxClass:"contentMap__info",enableEventPropagation:!0,infoBoxClearance:new google.maps.Size(1,1)});var s=ASSETS_URI+"img/common/gm_icon_accomodations";p&&(s+="_sp"),s+=".png",b[e].setOptions({icon:{url:s}}),P(b[e],e,M),a++}else{j_markerLatLng=new google.maps.LatLng({lat:f[e],lng:v[e]}),b[e]=new google.maps.Marker({position:j_markerLatLng,map:j_map,animation:google.maps.Animation.DROP});var i=document.createElement("div");i.innerHTML='<div class="contentMap__info"><a href="'+L[e]+'" class="contentMap__info__inner"><div class="contentMap__info__img"><img src="'+S[e]+'" alt=""></div><div class="contentMap__info__name"><span>'+T[e]+"</span></div></a></div>",M[e]=new google.maps.InfoWindow({content:i,disableAutoPanz:!1,zIndex:null,alignBottom:!0,boxClass:"contentMap__info",enableEventPropagation:!0,infoBoxClearance:new google.maps.Size(1,1)});var s=ASSETS_URI+"img/common/gm_icon_point";p&&(s+="_sp"),s+=".png",b[e].setOptions({icon:{url:s}}),P(b[e],e,M),a++}$(".contentMap__btn__item-plus").on("click",function(){var n=j_map.getZoom();n++,j_map.setZoom(n)}),$(".contentMap__btn__item-minus").on("click",function(){var n=j_map.getZoom();0!=n&&n--,j_map.setZoom(n)})}()}function P(o,a,e){o.addListener("click",function(n){t&&t.close(j_map,o),e[a].open(j_map,o),t=e[a],function(){var n=$(".gm-style-iw");n.prev().css("display","none"),n.parent().addClass("contentMap__infoOut")}()})}});